% MSE是消除t秒延时后的command error，即观察 command error = cmd（t0）- real（t0+t)
% x是不同的延时时间t， y是平均绝对误差MSE
% 从图中可知消除0.2s延时后的command error最小，即认为实车的延时为0.2s

clc;clear;
x = [0:0.02:0.4];
MSE = [0.064429687	0.054449007	0.045068787	0.036385325	0.028558099	0.021710723	0.015951832	0.011389055	0.008091578	0.006080692	0.005310276	0.005679855	0.007070814	0.009373609	0.01250165	0.016380167	0.020958659	0.02621565	0.032154208	0.038786609	0.046112123];
RMSE = [0.253830036	0.233343111	0.212294105	0.190749378	0.168991418	0.14734559	0.126300564	0.106719517	0.089953199	0.07797879	0.072871641	0.075364812	0.084088135	0.096817399	0.11181078	0.127985027	0.144771058	0.161912477	0.179315946	0.196943162	0.214737335
];
plot(x,RMSE,'LineWidth',2,'color','k')
set(gcf,'color','w');
xlabel('delay time (s)')      % 或者叫消除的延时时间
ylabel('RMSE (rad)')
% MSE_percent = 0.00531/0.06443;       % 除去0.2s延时的影响后，误差减小到原来的8.24%
RMSE_percent = 0.0729/0.254;
% MAE_percent = 0.036937/0.13356;      % 除去0.2s延时的影响后，误差减小到原来的27.66%
